# Self Driving Car (OOP 2025 - 2026)

**Μάθημα:** Αντικειμενοστραφής Προγραμματισμός

**Εξάμηνο:** Χειμερινό 2025 - 2026

**Φοιτητής:** Αναστάσης - Χρήστος Κυρίος

**Αρηθμός Μητρώου:** 1115202400101


## Εντολές Μεταγλώττισης Και Εκτέλεσης
```bash
make
.\oopproj_2025 --help

```

## Μεθοδολογία και Παραδωχές Σχεδίασης
Σε αυτό το σημείο αναλύονται οι τεχνικές επιλογές, οι αναπαραστάσεις δεδομένων και οι βασικοί κανόνες που διέπουν την υλοποίηση της προσομοίωσης του αυτόνομου οχήματος.

 **Αναπαράσταση Δεδομένων και κώσμου**
 - **Σύστημα Συντεταγμένων:** Ο κόσμος αναπαρίσταται ως ένα δισδιάστατο πλέγμα (GridWorld), με το σημείο (0,0) να ορίζεται στην κάτω αριστερή γωνία του περιβάλλοντος.

 - **Ταυτοποίηση Αντικειμένων:** Κάθε αντικείμενο φέρει μια μοναδική αλφαριθμητική ταυτότητα (ID) που προκύπτει από το όνομα της κατηγορίας του και έναν αύξοντα αριθμό, διευκολύνοντας την ιχνηλάτηση από τη μηχανή συγχώνευσης αισθητήρων.

 - **Δομή Μετρήσεων:** Οι πληροφορίες από τους αισθητήρες τυποποιούνται σε αντικείμενα τύπου `SensorReading`, εξασφαλίζοντας ομοιομορφία στα δεδομένα απόστασης, θέσης, ταχύτητας και βεβαιότητας.

 **Κανόνες Λειτουργίας και Παραδοχές**
 - **Υπολογισμός Αποστάσεων:** Όλες οι αποστάσεις μεταξύ των κελιών του πλέγματος υπολογίζονται με βάση τη μετρική Manhattan (Taxicab distance), αθροίζοντας τις απόλυτες διαφορές των συντεταγμένων.

 - **Κύκλος Φαναριών:** Τα φανάρια λειτουργούν με προκαθορισμένο κύκλο χρονικών βημάτων (ticks), μεταβαίνοντας από Κόκκινο (4 ticks) σε Πράσινο (8 ticks) και έπειτα σε Κίτρινο (2 ticks).

 - **Περιορισμοί Αισθητήρων:** ιοθετούνται οι περιορισμοί εμβέλειας και οπτικού πεδίου που ορίζει η εκφώνηση:

    - **Lidar:** Παρέχει όραση 360 μοιρών (9x9 κελιά) αλλά δεν αναγνωρίζει χρώματα ή κείμενο.

    - **Radar:** νιχνεύει αποκλειστικά κινούμενα αντικείμενα σε ευθεία γραμμή μπροστά από το όχημα (εμβέλεια 12 κελιών).

    - **Camera:** Εξειδικεύεται στην αναγνώριση χρωμάτων, κειμένου και κατηγοριοποίησης αντικειμένων σε πεδίο 7x7 κελιών.

## Στρατηγική Πλοήγησης και Ασφάλειας

- **Λήψη Αποφάσεων:** Η πλοήγηση βασίζεται στην επεξεργασία δεδομένων από τη Sensor Fusion Engine, η οποία εφαρμόζει σταθμισμένο μέσο όρο στις μετρήσεις για την παραγωγή μιας ενοποιημένης εικόνας του κόσμου.

- **Διαχείριση Ταχύτητας:** Το όχημα προσαρμόζει την ταχύτητά του αυτόματα (επιτάχυνση/επιβράδυνση) ανάλογα με την απόστασή του από εμπόδια (2 κελιά), φανάρια (3 κελιά) ή τον τελικό στόχο GPS (5 κελιά)

- **Προστασία Ποδηλάτων:** Εφαρμόζεται ο ειδικός κανόνας ασφαλείας σύμφωνα με τον οποίο αν έστω και ένας αισθητήρας ανιχνεύσει ποδήλατο, η μέτρηση διατηρείται στη μηχανή Fusion ανεξάρτητα από το όριο βεβαιότητας.

## Βήματα Υλοποίησης και Ροής Προσομοίωσης
Η λειτουργία του συστήματος βασίζεται σε έναν επαναλαμβανόμενο κύκλο ενεργειών που εκτελείται σε κάθε χρονικό βήμα (tick) της προσομοίωσης. Τα βήματα που ακολουθήθηκαν για την υλοποίηση αυτής της ροής είναι τα εξής:

**Βήμα 1: Ανίχνευση Περιβάλλοντος (Sensing)**

- Σε κάθε κύκλο, το αυτόνομο όχημα ενεργοποιεί τους τρεις αισθητήρες του (Lidar, Radar, Camera).

- Κάθε αισθητήρας σαρρώνει το `GridWorld` και επιστρέφει μια λίστα από μετρήσεις (`SensorReading`), φιλτραρισμένες βάσει του οπτικού του πεδίου και των δυνατοτήτων του (π.χ. το Radar επιστρέφει μόνο κινούμενα αντικείμενα).

**Βήμα 2: Συγχώνευση Δεδομένων (Sensor Fusion)**

- Οι μετρήσεις από όλους τους αισθητήρες συγκεντρώνονται στη μηχανή Fusion.

- Το σύστημα ομαδοποιεί τις μετρήσεις που αφορούν το ίδιο αντικείμενο βάσει του ID του.

- Υπολογίζεται ένας σταθμισμένος μέσος όρος για την απόσταση και τη θέση, ενώ εφαρμόζονται οι κανόνες προτεραιότητας της κάμερας για τον προσδιορισμό των χρωμάτων και των πινακίδων.

- Απορρίπτονται μετρήσεις με χαμηλή βεβαιότητα, εκτός αν πρόκειται για ποδήλατο.

**Βήμα 3: Σχεδιασμός Πλοήγησης (Navigation Planning)**

- Το σύστημα συγκρίνει την τρέχουσα θέση του οχήματος με τον τρέχοντα στόχο GPS.

- Επιλέγεται η βέλτιστη κατεύθυνση (North, South, East, West) για τη μείωση της απόστασης Manhattan.

- Ελέγχεται αν το όχημα έχει φτάσει στον στόχο, ώστε να μεταβεί στον επόμενο διαθέσιμο στόχο της λίστας.

**Βήμα 4: Λήψη Αποφάσεων Ασφαλείας (Collision Avoidance & Rules)**

- Το όχημα αναλύει τα ενοποιημένα δεδομένα από το Fusion για να εντοπίσει κινδύνους.

- Αν εντοπιστεί εμπόδιο, κόκκινο φανάρι ή σήμα STOP σε κοντινή απόσταση, το σύστημα στέλνει εντολή επιβράδυνσης (decelerate) ή ακινητοποίησης.

- Αν ο δρόμος είναι ελεύθερος, το σύστημα δίνει εντολή επιτάχυνσης (`accelerate`) μέχρι τη μέγιστη επιτρεπτή ταχύτητα.

**Βήμα 5: Εκτέλεση Κίνησης και Καταγραφή (Execution & Logging)**

- Το όχημα μετακινείται στη νέα του θέση στο πλέγμα.

- Η κατάσταση του κόσμου ενημερώνεται και το σύστημα καταγράφει όλες τις αλλαγές (θέση, ταχύτητα, ανιχνεύσεις) στο αρχείο `oopproj_2025.log`.

- Το `GridWorld` εκτυπώνει τη νέα κατάσταση του χάρτη στην κονσόλα (POV visualization).